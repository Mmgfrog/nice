<html ng-app='myApp'>
	<head>
		<meta charset="utf-8">
		<title>Controlling Users</title>
		<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js'></script>
		<script type='text/javascript'>
      		var myAppModule = angular.module('myApp', []);
      		myAppModule.controller('usersController', function ($scope){
          $scope.users = [
            {fname: 'Mike', lname: 'Matsumoto', favlang: 'Ruby'}, 
            {fname: 'John', lname: 'Dahl', favlang: 'JavaScript'}, 
            {fname: 'Trey', lname: 'Eich', favlang: 'Python'}, 
            {fname: 'India', lname: 'Jones', favlang: 'Java'}
          ];
  
      		$scope.addUser = function (){
    		    $scope.users.push($scope.user); 
    		    $scope.user = {};
    		  };

          $scope.deleteUser = function (user){
            index = $scope.users.indexOf(user);
            $scope.users.splice(index, 1);
          };

		});
    	</script>

	</head>
	<body>
        <div ng-controller='usersController'>
        <h3>Users Controller</h3>
      <form>
          <p>First Name: <input type='text' ng-model='user.fname'></p>
          <p>Last Name: <input type='text' ng-model='user.lname'></p>
          <p>Favorite Language: <input type='text' ng-model='user.favlang'></p>
          <input type='submit' value='Create User' ng-click='addUser()'>
      </form> 
        <table>  
    		<tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Favorite Language</th>
          <th>Actions</th>
        </tr>
        <tr ng-repeat="user in users">
          <td>{{user.fname}}</td>
          <td>{{user.lname}}</td>
          <td>{{user.favlang}}</td>
          <td><input type='submit' value='Delete User' ng-click='deleteUser(user)'></td>
        </tr>	
    		</table>
  		</div>
		
	</body>

</html>